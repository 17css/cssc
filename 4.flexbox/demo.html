<!DOCTYPE HTML>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Flex Demo</title>

    <link rel="stylesheet" href="../shared-styles/common.css">
    <link rel="stylesheet" href="../shared-styles/shared.css">

    <style>
        #flexContainer {
            height: 200px;
        }

        #flexContainer,
        #flexContainer > * {
            /* transition: all .2s linear; */
            color: #FF6AD5;
        }
    </style>

    <!-- https://css-tricks.com/snippets/css/a-guide-to-flexbox/ -->

</head>

<body class="c-body-text c-full-height">  

    <br><br>

    <div class="c-container-fixed pos-relative">



    <div class="c-d-flex c-bd vv-bd-s2 hand-box lined thin c-p-xs" id="flexContainer" style="align-items: flex-start;">
        <div class="c-bd vv-bd-violet hand-box lined thin">呼レシチソ当2満お <br/> 野クゆ.</div>
        <div class="c-bd vv-bd-violet hand-box lined thin">医総フメス紙免ぼけ人 <br/> 手リか前参.</div>
        <div class="c-bd vv-bd-violet hand-box lined thin">労ぜい井虚ぎも <br/> セレ改広れラし学雨.</div>
    </div>

    <button class="c-btn c-btn-primary c-m-top-lg" onclick="showMeSomeFun()">ブコ クセシ</button>


</div>


<div class="vv-img"></div>

<script>
        // {prop: 'order', values: [1,2,3,4]},
    let childFlexProps = [
        {prop: 'flex-grow', values: [1,0]},
        {prop: 'flex-shrink', values: [1,0]},
        {prop: 'align-self', values: ['flex-start', 'flex-end', 'center', 'baseline', 'stretch']}
    ];

    let containerFlexProps = [
        {prop: 'justify-content', values: ['flex-start', 'flex-end', 'center', 'space-between', 'space-around', 'space-evenly']},
    ];

    let flexRandomCarousel;

    function getRandomEl(inputArray) {
        return inputArray[Math.floor(Math.random()*inputArray.length)];
    }

    let flexContainer = document.querySelector('#flexContainer');
    let flexChildren  = document.querySelectorAll('#flexContainer > *');


    function randomizeFlex(el, allProps) {
        let flex = getRandomEl(allProps);
        let flexValue = getRandomEl(flex.values);
        el.setAttribute('style', flex.prop + ':' + flexValue + ';');
    }

    function randomizeFlexChildren(els, allProps) {
        els.forEach(el => {
            randomizeFlex(el, allProps);
        });
    }

    let vaporwave = new Audio('vaporwave.mp3');

    function showMeSomeFun() {
        if (flexRandomCarousel) {
            clearInterval(flexRandomCarousel);
            flexRandomCarousel = false;
            vaporwave.pause();
            vaporwave.currentTime = 0;
        } else {
            flexRandomCarousel = setInterval(()=>{
                randomizeFlex(flexContainer, containerFlexProps);
                randomizeFlexChildren(flexChildren, childFlexProps);
            }, 700);            
            vaporwave.play();
        }
    }

</script>
</body>

</html>